"use strict";(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[327],{3937:function(t,e,l){l.r(e),l.d(e,{default:function(){return A}});l(8984);var n=l(2966),a=l(3396),i=l(9242),s=l(4870),o=l(678);const r={Q1:'<p>这是第1个问题<span class="cred">哈哈</span>自定义html</p>',Q2:'<img src="https://img.yzcdn.cn/vant/cat.jpeg" alt="图片"/><img src="https://img.yzcdn.cn/vant/leaf.jpg" alt="图片" onload="scroll2Bottom()"/>',Q3:"这是第3个问题这是第3个问题这是第3个问题",Q4:"这是第4个这这是第4个问题题问题",Q5:'<p>这是第5个问题</p><img src="https://img.yzcdn.cn/vant/ipad.jpeg" alt="ipad" onload="scroll2Bottom()"/>',Q6:"这是第6个问第7个题",Q7:"这是第7个问题第7个第7个",Q8:"问题结束",Q9:"结束语"},c={A1:"这是第1个回答选项",A2:"这是第2个答选项回答选项",A3:"这是第3个回答选项",A4:"这是第4个回答选项答",A5:"这答选项是第5个回答选项答选项",A6:"这是第6个回答选项",A7:"这是第7个回答选项这是第7个回答选项",A8:"这是第8个回答选项",A9:"这是第9个回答选项答选项",A10:"这是第10个回答选项",A11:"这是第11个回答选项答选项答选项",A12:"这是第12个回答选项",A13:"这是第13个回答选项答选项答选项答选项",A14:"这是第14个回答选项",A15:"这是第15个回答选项答选项",A16:"这是第16个回答选项"},m={Q1:{A1:"Q6",A2:"Q3",A3:"Q7",A4:"Q5"},Q2:{A5:"Q4",A6:"Q3",A7:"Q8",A8:"Q1"},Q3:{A9:"Q2",A10:"Q4",A11:"Q8"},Q4:{A5:"Q1",A7:"Q8",A2:"Q3",A8:"Q4"},Q5:{A1:"Q5",A3:"Q6",A9:"Q7",A11:"Q8"},Q6:{A4:"Q2",A6:"Q6",A10:"Q4",A12:"Q7"},Q7:"Q8",Q8:"Q9"};function d(){let t=window.pageYOffset;const e=document.documentElement.offsetHeight-document.documentElement.clientHeight;function l(){t+=(e-t)/8,Math.abs(e-t)<2?window.scrollTo(0,e):(window.scrollTo(0,t),requestAnimationFrame(l))}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)}),l()}const f=t=>(0,s.SU)(t)?.getBoundingClientRect(),u=t=>{const e=(0,s.iH)();return e.value=f(t)?.height||0,e};var A=(0,a.aZ)((()=>{const t=(0,o.tv)(),e=(0,s.iH)(),l=(0,s.qj)([]),f=u(e),A=(0,s.iH)(!0),p=(0,s.iH)("对方正在输入中...");let Q=0,g=0,v=(0,s.qj)([]),h=m.Q1;window.scroll2Bottom=()=>d();const w=()=>Math.ceil(1e3*(2*Math.random()+1.5)),x=()=>Math.ceil(Math.random()+500),b=()=>{t.back()},W=async()=>{await(0,a.Y3)(),f.value=u(e).value,window.scroll2Bottom()},T=()=>{console.log("聊天结束"),A.value=!1},k=(t,e)=>{l.push({message:t,direction:e})},y=t=>{if(k(r[t],"left"),h=m[t],!h)return T();"string"===typeof h?Q=setTimeout((()=>{y(h),W()}),w()):v=Object.keys(h)},B=t=>{k(c[t],"right"),v=[],p.value="请稍等...",g=setTimeout((()=>{p.value="对方正在输入中..."}),x()),Q=setTimeout((()=>{y("string"===typeof h?h:h[t]),W()}),w())},j=()=>l.length>0&&(0,a.Wm)("div",{class:"chat-wrapper",style:{marginBottom:f.value+50+"px"}},[l.map((t=>(0,a.Wm)("li",{class:["flex pd10 align-start","left"===t.direction?"justify-start":"justify-end"]},["left"===t.direction?(0,a.Wm)("div",{class:"avatar"},null):null,(0,a.Wm)("div",{class:["mg-l10 bubble","left"===t.direction?"bubble-left":"bubble-right"]},[(0,a.Wm)("p",{class:"bgfff lh20 fs12",innerHTML:t.message},null)]),"right"===t.direction?(0,a.Wm)("div",{class:"avatar"},null):null])))]),H=()=>v.length>0?(0,a.Wm)("div",{class:"answers-wrapper flex flex-wrap max640",ref:e},[v.map((t=>(0,a.Wm)("div",{class:"btnbox col-6 flex"},[(0,a.Wm)("div",{class:"flex flex-center btn",onClick:()=>B(t)},[c[t]])])))]):(0,a.Wm)("div",{class:"answers-wrapper max640"},[(0,a.wy)((0,a.Wm)("div",{class:"loadingtxt fs12 lh20  mg10 text-center"},[p.value]),[[i.F8,A.value]])]);return(0,a.bv)((()=>{y("Q1")})),(0,a.Ah)((()=>{clearTimeout(Q),clearTimeout(g)})),()=>(0,a.Wm)("div",{class:"pd-nav"},[(0,a.Wm)(n.Z,{fixed:!0,title:"聊天室","left-arrow":!0,"onClick-left":b},null),j(),H()])}))},2966:function(t,e,l){l.d(e,{Z:function(){return g}});var n=l(8395),a=l(3396),i=l(4870),s=l(2981),o=l(5737),r=l(3603),c=l(1047),m=l(3061),d=l(176);const[f,u]=(0,s["do"])("nav-bar"),A={title:String,fixed:Boolean,zIndex:o.Or,border:o.J5,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var p=(0,a.aZ)({name:f,props:A,emits:["click-left","click-right"],setup(t,{emit:e,slots:l}){const n=(0,i.iH)(),s=(0,m.J)(n,u),o=t=>e("click-left",t),f=t=>e("click-right",t),A=()=>l.left?l.left():[t.leftArrow&&(0,a.Wm)(d.J,{class:u("arrow"),name:"arrow-left"},null),t.leftText&&(0,a.Wm)("span",{class:u("text")},[t.leftText])],p=()=>l.right?l.right():(0,a.Wm)("span",{class:u("text")},[t.rightText]),Q=()=>{const{title:e,fixed:i,border:s,zIndex:m}=t,d=(0,r.As)(m),Q=t.leftArrow||t.leftText||l.left,g=t.rightText||l.right;return(0,a.Wm)("div",{ref:n,style:d,class:[u({fixed:i}),{[c.xe]:s,"van-safe-area-top":t.safeAreaInsetTop}]},[(0,a.Wm)("div",{class:u("content")},[Q&&(0,a.Wm)("div",{class:[u("left"),c.e9],onClick:o},[A()]),(0,a.Wm)("div",{class:[u("title"),"van-ellipsis"]},[l.title?l.title():e]),g&&(0,a.Wm)("div",{class:[u("right"),c.e9],onClick:f},[p()])])])};return()=>t.fixed&&t.placeholder?s(Q):Q()}});const Q=(0,n.n)(p);var g=Q},8984:function(t,e,l){l(1958),l(368),l(6742)}}]);