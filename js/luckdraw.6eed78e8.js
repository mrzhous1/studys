"use strict";(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[422],{3879:function(c,e,a){a.r(e),a.d(e,{default:function(){return h}});var r=a(3396),l=a(7139);const i=c=>((0,r.dD)("data-v-5b980aef"),c=c(),(0,r.Cn)(),c),t={class:"luckdraw-content"},d={class:"luckdraw-scroll"},n={class:"bg-scroll"},s={class:"lkq-name"},v={class:"turntable"},u=(0,r.uE)('<svg class="bulb svelte-ecndpu" viewBox="-6 -6 316 316" fill="currentColor" fill-rule="evenodd" data-v-5b980aef><g class="bulb-1 svelte-ecndpu" data-v-5b980aef><circle cx="10" cy="10" r="4" data-v-5b980aef></circle><circle cx="78" cy="4" r="4" data-v-5b980aef></circle><circle cx="152" cy="4" r="4" data-v-5b980aef></circle><circle cx="226" cy="4" r="4" data-v-5b980aef></circle><circle cx="294" cy="10" r="4" data-v-5b980aef></circle><circle cx="4" cy="89" r="4" data-v-5b980aef></circle><circle cx="4" cy="173" r="4" data-v-5b980aef></circle><circle cx="4" cy="258" r="4" data-v-5b980aef></circle><circle cx="41" cy="300" r="4" data-v-5b980aef></circle><circle cx="115" cy="300" r="4" data-v-5b980aef></circle><circle cx="189" cy="300" r="4" data-v-5b980aef></circle><circle cx="263" cy="300" r="4" data-v-5b980aef></circle><circle cx="300" cy="258" r="4" data-v-5b980aef></circle><circle cx="300" cy="173" r="4" data-v-5b980aef></circle><circle cx="300" cy="89" r="4" data-v-5b980aef></circle></g><g class="bulb-2 svelte-ecndpu" data-v-5b980aef><circle cx="41" cy="4" r="4" data-v-5b980aef></circle><circle cx="115" cy="4" r="4" data-v-5b980aef></circle><circle cx="189" cy="4" r="4" data-v-5b980aef></circle><circle cx="263" cy="4" r="4" data-v-5b980aef></circle><circle cx="4" cy="46" r="4" data-v-5b980aef></circle><circle cx="4" cy="131" r="4" data-v-5b980aef></circle><circle cx="4" cy="215" r="4" data-v-5b980aef></circle><circle cx="10" cy="294" r="4" data-v-5b980aef></circle><circle cx="294" cy="294" r="4" data-v-5b980aef></circle><circle cx="300" cy="215" r="4" data-v-5b980aef></circle><circle cx="300" cy="131" r="4" data-v-5b980aef></circle><circle cx="300" cy="46" r="4" data-v-5b980aef></circle><circle cx="78" cy="300" r="4" data-v-5b980aef></circle><circle cx="152" cy="300" r="4" data-v-5b980aef></circle><circle cx="226" cy="300" r="4" data-v-5b980aef></circle></g></svg>',1),o={class:"awards-list"},f=i((()=>(0,r._)("span",{class:"draw-btn-text"},"点击抽奖",-1))),b=[f],y={key:1};function x(c,e,a,i,f,x){return(0,r.wg)(),(0,r.iD)("div",t,[(0,r._)("div",d,[(0,r._)("ul",n,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.list,((e,a)=>((0,r.wg)(),(0,r.iD)("li",{key:a,class:(0,l.C_)({anim:c.animate&&0==a})},[(0,r._)("span",s,(0,l.zw)(e.phone),1)],2)))),128))])]),(0,r._)("div",v,[u,(0,r._)("ul",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.awardList,((a,i)=>((0,r.wg)(),(0,r.iD)("li",{key:a.id,class:(0,l.C_)(["awards-item",{"awards-item-draw":4===i,"run-item":a.runId===c.current}])},[4===i?((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:e[0]||(e[0]=(...e)=>c.handleStart&&c.handleStart(...e)),class:"draw-btn svelte-ecndpu"},b)):((0,r.wg)(),(0,r.iD)("div",y,(0,l.zw)(a.name),1))],2)))),128))])])])}var w=a(4870),m=(0,r.aZ)({name:"LuckDraw",setup(){const c=200,e=20,a=2.5,l=5;let i,t=0,d=0,n=!1;const s=(0,w.iH)(!1),v=(0,w.iH)(0),u=(0,w.qj)([{phone:"186****2336抽中一道选择题"},{phone:"166****2336抽中一道大题"},{phone:"156****2336抽中好心情"}]),o=(0,w.qj)([{id:1,runId:0,name:"选择题"},{id:2,runId:1,name:"好心情"},{id:3,runId:2,name:"美貌"},{id:4,runId:7,name:"好运"},{id:5,runId:3,name:"快乐"},{id:6,runId:6,name:"谢谢参与1"},{id:7,runId:5,name:"健康"},{id:8,runId:4,name:"谢谢参与2"}]),f=(0,r.Fl)((()=>{const c=JSON.parse(JSON.stringify(o));return c.splice(4,0,{name:"drawBtn"}),c})),b=()=>{s.value=!0,setTimeout((()=>{u.push(u[0]),u.shift(),s.value=!1}),500)},y=()=>{const c=setTimeout((()=>{if(v.value++,v.value>7&&(v.value=0),i?.id&&(Date.now()-d)/1e3>a){if(console.log("奖品出来了"),t+=e,(Date.now()-d)/1e3>l&&i.runId===v.value)return clearTimeout(c),void setTimeout((()=>{n=!1;const c=o.find((c=>c.id===i.id));c&&console.log(`您抽中的奖品是${c.name},奖品id是${c.id}`)}),400)}else t>=50&&(t-=e);y()}),t)},x=()=>{setTimeout((()=>{const c=Math.ceil(8*Math.random()),e=o.find((e=>e.id===c));e&&(i=e),console.log("返回的抽奖结果是",i)}),2e3),y()},m=()=>{if(n)console.log("正在抽奖中...");else{if(isNaN(Number(c)))return!1;t=c,n=!0,d=Date.now(),x(),console.log("开始抽奖")}};return(0,r.bv)((async()=>{await(0,r.Y3)(),setInterval(b,2e3)})),{awards:o,awardList:f,animate:s,list:u,current:v,handleStart:m}}}),g=a(89);const p=(0,g.Z)(m,[["render",x],["__scopeId","data-v-5b980aef"]]);var h=p}}]);