"use strict";(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[422],{6867:function(c,e,a){a.r(e),a.d(e,{default:function(){return h}});var r=a(3396),l=a(7139);const d=c=>((0,r.dD)("data-v-d505e846"),c=c(),(0,r.Cn)(),c),i={class:"luckdraw-content"},t={class:"luckdraw-scroll"},n={class:"bg-scroll"},s={class:"lkq-name"},v={class:"turntable"},u=(0,r.uE)('<svg class="bulb svelte-ecndpu" viewBox="-6 -6 316 316" fill="currentColor" fill-rule="evenodd" data-v-d505e846><g class="bulb-1 svelte-ecndpu" data-v-d505e846><circle cx="10" cy="10" r="4" data-v-d505e846></circle><circle cx="78" cy="4" r="4" data-v-d505e846></circle><circle cx="152" cy="4" r="4" data-v-d505e846></circle><circle cx="226" cy="4" r="4" data-v-d505e846></circle><circle cx="294" cy="10" r="4" data-v-d505e846></circle><circle cx="4" cy="89" r="4" data-v-d505e846></circle><circle cx="4" cy="173" r="4" data-v-d505e846></circle><circle cx="4" cy="258" r="4" data-v-d505e846></circle><circle cx="41" cy="300" r="4" data-v-d505e846></circle><circle cx="115" cy="300" r="4" data-v-d505e846></circle><circle cx="189" cy="300" r="4" data-v-d505e846></circle><circle cx="263" cy="300" r="4" data-v-d505e846></circle><circle cx="300" cy="258" r="4" data-v-d505e846></circle><circle cx="300" cy="173" r="4" data-v-d505e846></circle><circle cx="300" cy="89" r="4" data-v-d505e846></circle></g><g class="bulb-2 svelte-ecndpu" data-v-d505e846><circle cx="41" cy="4" r="4" data-v-d505e846></circle><circle cx="115" cy="4" r="4" data-v-d505e846></circle><circle cx="189" cy="4" r="4" data-v-d505e846></circle><circle cx="263" cy="4" r="4" data-v-d505e846></circle><circle cx="4" cy="46" r="4" data-v-d505e846></circle><circle cx="4" cy="131" r="4" data-v-d505e846></circle><circle cx="4" cy="215" r="4" data-v-d505e846></circle><circle cx="10" cy="294" r="4" data-v-d505e846></circle><circle cx="294" cy="294" r="4" data-v-d505e846></circle><circle cx="300" cy="215" r="4" data-v-d505e846></circle><circle cx="300" cy="131" r="4" data-v-d505e846></circle><circle cx="300" cy="46" r="4" data-v-d505e846></circle><circle cx="78" cy="300" r="4" data-v-d505e846></circle><circle cx="152" cy="300" r="4" data-v-d505e846></circle><circle cx="226" cy="300" r="4" data-v-d505e846></circle></g></svg>',1),o={class:"awards-list"},y=d((()=>(0,r._)("span",{class:"draw-btn-text"},"点击抽奖",-1))),x=[y],w={key:1};function m(c,e,a,d,y,m){return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",t,[(0,r._)("ul",n,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.list,((e,a)=>((0,r.wg)(),(0,r.iD)("li",{key:a,class:(0,l.C_)({anim:c.animate&&0==a})},[(0,r._)("span",s,(0,l.zw)(e.phone),1)],2)))),128))])]),(0,r._)("div",v,[u,(0,r._)("ul",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.awardList,((a,d)=>((0,r.wg)(),(0,r.iD)("li",{key:a.id,class:(0,l.C_)(["awards-item",{"awards-item-draw":4===d,"run-item":a.runId===c.current}])},[4===d?((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:e[0]||(e[0]=(...e)=>c.handleStart&&c.handleStart(...e)),class:"draw-btn svelte-ecndpu"},x)):((0,r.wg)(),(0,r.iD)("div",w,(0,l.zw)(a.name),1))],2)))),128))])])])}var g=a(4870),p=(0,r.aZ)({name:"LuckDraw",setup(){const c=200,e=20,a=2.5,l=5;let d,i=0,t=0,n=!1;const s=(0,g.iH)(!1),v=(0,g.iH)(0),u=(0,g.qj)([{phone:"186****2336抽中0元话费"},{phone:"166****2336抽中1元话费"},{phone:"156****2336抽中2元话费"}]),o=(0,g.qj)([{id:1,runId:0,name:"潘多拉音箱"},{id:2,runId:1,name:"小酷M1耳机"},{id:3,runId:2,name:"酷狗VIP会员"},{id:4,runId:7,name:"8元话费"},{id:5,runId:3,name:"12元话费"},{id:6,runId:6,name:"谢谢参与1"},{id:7,runId:5,name:"4元话费"},{id:8,runId:4,name:"谢谢参与2"}]),y=(0,r.Fl)((()=>{const c=JSON.parse(JSON.stringify(o));return c.splice(4,0,{name:"drawBtn"}),c})),x=()=>{s.value=!0,setTimeout((()=>{u.push(u[0]),u.shift(),s.value=!1}),500)},w=()=>{const c=setTimeout((()=>{if(v.value++,v.value>7&&(v.value=0),d?.id&&(Date.now()-t)/1e3>a){if(console.log("奖品出来了"),i+=e,(Date.now()-t)/1e3>l&&d.runId===v.value)return clearTimeout(c),void setTimeout((()=>{n=!1;const c=o.find((c=>c.id===d.id));c&&console.log(`您抽中的奖品是${c.name},奖品id是${c.id}`)}),400)}else i>=50&&(i-=e);w()}),i)},m=()=>{setTimeout((()=>{const c=Math.ceil(8*Math.random()),e=o.find((e=>e.id===c));e&&(d=e),console.log("返回的抽奖结果是",d)}),2e3),w()},p=()=>{if(n)console.log("正在抽奖中...");else{if(isNaN(Number(c)))return!1;i=c,n=!0,t=Date.now(),m(),console.log("开始抽奖")}};return(0,r.bv)((async()=>{await(0,r.Y3)(),setInterval(x,2e3)})),{awards:o,awardList:y,animate:s,list:u,current:v,handleStart:p}}}),f=a(89);const b=(0,f.Z)(p,[["render",m],["__scopeId","data-v-d505e846"]]);var h=b}}]);